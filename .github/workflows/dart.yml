name: GitHubActionsFlutter
on: push
jobs: 
    on-push:
        runs-on: ubuntu-latest
        env:
          REPOSITORY_URL: https://github.com/santiagogarcia70/flutter_example
          IMAGE_NAME: ${{ github.repository }}/alerta-cli
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
      
        steps:
            - uses: act10ns/slack@v1
              with:
                status: starting
                channel: '#githubactionsexample'
              if: always()
              
            - uses: actions/checkout@v1
              
            - name: install dependencies
              uses: steebchen/flutter@v1.1.0
              with:
                  arg: pub get
                  
            - name: run tests
              uses: steebchen/flutter@v1.1.0
              with:
                  arg: test
                  
            - name: build apk
              uses: steebchen/flutter@v1.1.0
              with:
                  arg: build apk --release 
          
              

          
          
